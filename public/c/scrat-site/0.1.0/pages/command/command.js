define("scrat-site/0.1.0/pages/command/command.js",function(e,c){"use strict";c.getMarkdown=function(){return'<blockquote> <p>scrat是基于 <a href=http://fis.baidu.com>fis</a> 打造的集成解决方案，其命令行风格也基本保持一致。</p> </blockquote> <h2 id=scrat-release>scrat release</h2> <blockquote> <p>项目构建命令，满足所有开发、构建、部署需求。</p> </blockquote> <p>在项目目录下执行 <code>scrat release</code> 命令，即可对项目进行构建，并将构建结果发布到本地服务器调试目录</p> <p><img src=/public/c/scrat-site/0.1.0/pages/quick-start/release_005efb6.gif alt=项目构建效果截图></p> <p>构建工具常见的功能就是区分构建目的，比如开发构建、测试构建、上线构建等。scrat并不像 <a href=http://gruntjs.com>grunt</a> 或者 <a href=http://gulpjs.com>gulp</a> 那样定义不同的task来区分构建目的，而是通过release命令的多种参数组合来确定构建目的。</p> <p>scrat release 命令的所有参数可以通过 scrat release -h 命令来查看，其中常用的包括：</p> <ul> <li><code>--dest &lt;paths&gt;</code>：指定构建结果的发布路径。</li> <li><code>--md5</code>：是否给非模块化静态资源添加md5戳。</li> <li><code>--domains</code>：是否为静态资源添加域名。</li> <li><code>--lint</code>：是否开启代码校验。</li> <li><code>--optimize</code>：是否开启代码压缩</li> <li><code>--pack</code>：是否开启csssprite、combo合并。</li> <li><code>--watch</code>：是开启文件监听</li> <li><code>--live</code>：是否开启浏览器自动刷新</li> <li><code>--unique</code>：是否使用独立缓存(ci上构建时使用)</li> </ul> <p>scrat release 命令的所有参加均可 <code>自由组合</code>，不同参数的不同组合即可得到不同的开发状态，参数顺序没有影响。</p> <h2 id=->工作方式</h2> <p><img src=release.png alt="scrat release工作原理"></p> <p>scrat <code>绝对不会</code> 修改用户的源代码，而是将源码处理后发布到另外一个目录下，这样可以对产出目录中的文件进行浏览或发布。因此scrat release其实始终需要 <code>--dest &lt;发布目录&gt;</code>参数来制定发布目的地的。开发时为了方便起见，运行省略--dest参数，如果省略，代码会被发布到内置的调试服务器目录下，方便预览。</p> <blockquote> <p>有些简易的构建工具会对源码直接进行浏览，其原理是服务器浏览的同时实时构建代码，这种方式<code>很矬</code>，相当于写了两套构建过程，非常不可取。</p> </blockquote> <h3 id=->本地开发</h3> <blockquote> <p>无压缩优化 + 文件监听 + 自动刷新</p> </blockquote> <p>本地开发常用的参数组合就是 <code>--watch</code> 和 <code>--live</code> 了，也就是文件监听+浏览器自动刷新：</p> <pre><code class="hljs bash">scrat release --watch --live\n</code></pre> <p>添加--watch参数之后，命令行会hold住，保持命令窗口不要关闭，执行修改源码、保持，就能看到浏览器自动刷新。</p> <p>--watch 和 --live 参数都有各自的缩短写法 <code>-w</code> 和 <code>-L</code>(注意大小写)。因此上面的命令可以简写为：</p> <pre><code class="hljs bash">scrat release -w -L\n</code></pre> <p>另外，命令行参数还能进一步 <code>连写</code> ，因此上述命令还能进一步简化为：</p> <pre><code class="hljs bash">scrat release -wL\n</code></pre> <p>由于命令省略了 <code>--dest &lt;paths&gt;</code> 参数，因此scrat会把构建结果发送到默认的服务器目录，使用 <code>scrat server open</code> 命令可以查看该目录。</p> <h3 id=->事实上</h3> <h2 id=scrat-install>scrat install</h2> <blockquote> <p>从GitHub安装生态组件，提升开发效率。</p> </blockquote> <p><img src=/public/c/scrat-site/0.1.0/pages/quick-start/install_28fbc0d.gif alt=安装生态截图></p> <h2 id=scrat-server-lt-cmd-gt->scrat server &lt;cmd&gt;</h2> <blockquote> <p>启动nodejs服务器，无需环境依赖即可调试。</p> </blockquote> <h2 id=scrat-init>scrat init</h2> <blockquote> <p>项目脚手架，快速创建新项目。</p> </blockquote> <h2 id=-h->使用 <code>-h</code> 参数获取帮助</h2> <p>所有命令的基本用法及参数说明均可以通过 <code>-h</code> 参数获取。比如想查看scrat有哪些内置命令，则执行：</p> <pre><code class="hljs bash">scrat -h\n</code></pre> <p>即可查看所有scrat内置的命令：</p> <pre><code class="hljs bash">Usage: scrat &lt;command&gt;\n\nCommands:\n\n  release     build and deploy your project\n  install     install component modules\n  server      launch nodejs server\n  init        init scrat project\n\nOptions:\n\n  -h, --help     output usage information\n  -v, --version  output the version number\n  --no-color     disable colored output\n</code></pre> <p>想查看其中某个命令的参数，比如scrat release命令的参数，也可以继续使用 <code>-h</code> 参数：</p> <pre><code class="hljs bash">scrat release -h\n</code></pre> <p>得到：</p> <pre><code class="hljs bash">Usage: release [options]\n\nOptions:\n\n  -h, --help             output usage information\n  <span class=hljs-operator>-d</span>, --dest &lt;names&gt;     release output destination\n  -m, --md5 [level]      md5 release option\n  -D, --domains          add domain name\n  <span class=hljs-operator>-l</span>, --lint             with lint\n  -t, --test             with unit testing\n  -o, --optimize         with optimizing\n  -p, --pack             with package\n  -w, --watch            monitor the changes of project\n  -L, --live             automatically reload your browser\n  -c, --clean            clean compile cache\n  -r, --root &lt;path&gt;      <span class=hljs-keyword>set</span> project root\n  <span class=hljs-operator>-f</span>, --file &lt;filename&gt;  <span class=hljs-keyword>set</span> fis-conf file\n  -u, --unique           use unique compile caching\n  --verbose              enable verbose output\n</code></pre>'}});